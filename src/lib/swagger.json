{
  "openapi": "3.0.1",
  "info": {
    "title": "Meetinghakgaeron",
    "description": "the matching service for 2030's meeting by NO:ON",
    "contact": {
      "email": "noon.official.dev@gmail.com"
    },
    "version": "1.0.0"
  },
  "externalDocs": {
    "description": "explore github of NO:ON",
    "url": "https://github.com/NOON-official"
  },
  "servers": [
    {
      "url": "http://localhost:5000/api"
    }
  ],
  "tags": [
    {
      "name": "Service",
      "description": "Meetinghakgaeron Service"
    },
    {
      "name": "User",
      "description": "user's team information"
    }
  ],
  "paths": {
    "/service/count/weekly": {
      "get": {
        "tags": ["Service"],
        "summary": "주간 매칭 건수 조회",
        "description": "🌸 미팅학개론의 주간 매칭 성공 건수를 조회합니다.",
        "responses": {
          "200": {
            "description": "주간 매칭 건수 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "주간 매칭 건수 조회에 성공하였습니다"
                    },
                    "data": {
                      "type": "object",
                      "example": {
                        "weeklyCount": 23
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/user/ourteam": {
      "post": {
        "tags": ["User"],
        "summary": "유저 정보 저장",
        "description": "🌸 매칭을 신청하는 유저의 팀 정보를 저장합니다.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "firebaseUid": {
                    "type": "string",
                    "format": "varchar(50)",
                    "example": "ehxIlqyasdhtjtsaew3768aY2"
                  },
                  "kakaoId": {
                    "type": "string",
                    "format": "varchar(20)",
                    "example": "m*yu1"
                  },
                  "phone": {
                    "type": "string",
                    "format": "varchar(13)",
                    "example": "010-1234-5678"
                  },
                  "gender": {
                    "type": "string",
                    "format": "varchar(2)",
                    "example": "남성"
                  },
                  "num": {
                    "type": "string",
                    "format": "varchar(3)",
                    "example": "3:3"
                  },
                  "age": {
                    "type": "string",
                    "format": "varchar(2)",
                    "example": "25"
                  },
                  "job": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 4,
                    "example": ["대학생", "취준생"]
                  },
                  "university": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 3,
                    "example": ["가천대", "한국외대", "동덕여대"]
                  },
                  "role": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 4,
                    "example": ["깍두기", "사회자", "비주얼"]
                  },
                  "area": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 4,
                    "example": ["강남", "홍대", "수원"]
                  },
                  "day": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 7,
                    "example": ["월", "토", "일"]
                  },
                  "appearance": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 5,
                    "example": ["고양이", "강아지"]
                  },
                  "mbti": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 16,
                    "example": ["ISFP", "ENTP"]
                  },
                  "fashion": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 10,
                    "example": ["캐주얼", "비즈니스", "베이직", "아메카지"]
                  }
                },
                "required": [
                  "phone",
                  "gender",
                  "num",
                  "age",
                  "job",
                  "university",
                  "role",
                  "area",
                  "day",
                  "appearance",
                  "mbti",
                  "fashion"
                ]
              },
              "examples": {
                "0": {
                  "summary": "유저 정보 저장 요청 예시",
                  "value": {
                    "firebaseUid": "ehxIlqyasdhtjtsaew3768aY2",
                    "kakaoId": "m*yu1",
                    "phone": "010-1234-5678",
                    "gender": "남성",
                    "num": "3:3",
                    "age": "25",
                    "job": ["대학생", "취준생"],
                    "university": ["가천대", "한국외대", "동덕여대"],
                    "role": ["깍두기", "사회자", "비주얼"],
                    "area": ["강남", "홍대", "수원"],
                    "day": ["월", "토", "일"],
                    "appearance": ["고양이", "강아지"],
                    "mbti": ["ISFP", "ENTP"],
                    "fashion": ["캐주얼", "비즈니스", "베이직", "아메카지"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "유저 정보 저장 성공",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "유저 정보 저장에 성공하였습니다"
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "유효하지 않은 값",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Fail"
                },
                "examples": {
                  "1": {
                    "summary": "Response Body",
                    "value": {
                      "status": 400,
                      "success": false,
                      "message": "필수 항목을 모두 입력해주세요"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/user/preference": {
      "post": {
        "tags": ["User"],
        "summary": "유저 선호 정보 저장",
        "description": "🌸 매칭을 신청하는 유저의 선호 정보를 저장합니다. \n\n ✨중요: 유저 정보 저장 API(api/user/ourteam)를 먼저 호출하신 다음, **성공 response를 받은 후** 본 API를 호출해주세요! \n * 유저 정보 저장 후 자동으로 생성되는 id를 테이블 key값으로 사용하기 때문에 유저 정보 저장 API(api/user/ourteam)의 response에 담겨있는 id 값을 본 API 호출 시 함께 보내주시면 됩니다!🙂 \n ",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "id": {
                    "type": "integer",
                    "example": 1
                  },
                  "age": {
                    "type": "string",
                    "format": "varchar(2)",
                    "example": "25"
                  },
                  "job": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 4,
                    "example": ["대학생", "취준생"]
                  },
                  "exceptedUniv": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 3,
                    "example": ["가천대", "한국외대", "동덕여대"]
                  },
                  "includedUniv": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 3,
                    "example": ["가천대", "한국외대", "동덕여대"]
                  },
                  "gamePercent": {
                    "type": "string",
                    "format": "varchar(3)",
                    "example": "78"
                  },
                  "sweetPercent": {
                    "type": "string",
                    "format": "varchar(3)",
                    "example": "100"
                  },
                  "funPercent": {
                    "type": "string",
                    "format": "varchar(3)",
                    "example": "0"
                  },
                  "appearance": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 5,
                    "example": ["고양이", "강아지"]
                  },
                  "mbti": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 16,
                    "example": ["ISFP", "ENTP"]
                  },
                  "fashion": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minitems": 1,
                    "maxitems": 10,
                    "example": ["캐주얼", "베이직"]
                  }
                },
                "required": [
                  "id",
                  "age",
                  "job",
                  "exceptedUniv",
                  "includedUniv",
                  "gamePercent",
                  "sweetPercent",
                  "funPercent",
                  "appearance",
                  "mbti",
                  "fashion"
                ]
              },
              "examples": {
                "0": {
                  "summary": "유저 선호 정보 저장 요청 예시",
                  "value": {
                    "id": 1,
                    "age": "25",
                    "job": ["대학생", "취준생"],
                    "exceptedUniv": ["가천대", "한국외대", "동덕여대"],
                    "includedUniv": ["가천대", "한국외대", "동덕여대"],
                    "gamePercent": "78",
                    "sweetPercent": "100",
                    "funPercent": "0",
                    "appearance": ["고양이", "강아지"],
                    "mbti": ["ISFP", "ENTP"],
                    "fashion": ["캐주얼", "베이직"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "유저 선호 정보 저장 성공",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "유저 선호 정보 저장에 성공하였습니다"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Preference"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "유효하지 않은 값",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Fail"
                },
                "examples": {
                  "1": {
                    "summary": "Response Body",
                    "value": {
                      "status": 400,
                      "success": false,
                      "message": "필수 항목을 모두 입력해주세요"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "존재하지 않는 유저",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Fail"
                },
                "examples": {
                  "1": {
                    "summary": "Response Body",
                    "value": {
                      "status": 404,
                      "success": false,
                      "message": "존재하지 않는 유저입니다"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Service": {
        "type": "object",
        "properties": {
          "weeklyCount": {
            "type": "integer",
            "example": 23
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "firebaseUid": {
            "type": "string",
            "format": "varchar(50)",
            "example": "ehxIlqyasdhtjtsaew3768aY2"
          },
          "kakaoId": {
            "type": "string",
            "format": "varchar(20)",
            "example": "m*yu1"
          },
          "phone": {
            "type": "string",
            "format": "varchar(13)",
            "example": "010-1234-5678"
          },
          "gender": {
            "type": "string",
            "format": "varchar(2)",
            "example": "남성"
          },
          "num": {
            "type": "string",
            "format": "varchar(3)",
            "example": "3:3"
          },
          "age": {
            "type": "string",
            "format": "varchar(2)",
            "example": "25"
          },
          "job": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 4,
            "example": ["대학생", "취준생"]
          },
          "university": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 3,
            "example": ["가천대", "한국외대", "동덕여대"]
          },
          "role": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 4,
            "example": ["깍두기", "사회자", "비주얼"]
          },
          "area": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 4,
            "example": ["강남", "홍대", "수원"]
          },
          "day": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 7,
            "example": ["월", "토", "일"]
          },
          "appearance": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 5,
            "example": ["고양이", "강아지"]
          },
          "mbti": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 16,
            "example": ["ISFP", "ENTP"]
          },
          "fashion": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 10,
            "example": ["캐주얼", "비즈니스", "베이직", "아메카지"]
          },
          "state": {
            "type": "integer",
            "default": 0,
            "examples": {
              "0": {
                "summary": "매칭 전",
                "value": 0
              },
              "1": {
                "summary": "매칭 중 (수락 전)",
                "value": 1
              },
              "2": {
                "summary": "매칭 완료",
                "value": 2
              }
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2022-04-03T05:01:09.091Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2022-04-03T05:01:09.091Z"
          }
        }
      },
      "UserPreference": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "userId": {
            "type": "integer",
            "example": 1
          },
          "age": {
            "type": "string",
            "format": "varchar(2)",
            "example": "25"
          },
          "job": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 4,
            "example": ["대학생", "취준생"]
          },
          "exceptedUniv": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 3,
            "example": ["가천대", "한국외대", "동덕여대"]
          },
          "includedUniv": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 3,
            "example": ["가천대", "한국외대", "동덕여대"]
          },
          "gamePercent": {
            "type": "string",
            "format": "varchar(3)",
            "example": "78"
          },
          "sweetPercent": {
            "type": "string",
            "format": "varchar(3)",
            "example": "100"
          },
          "funPercent": {
            "type": "string",
            "format": "varchar(3)",
            "example": "0"
          },
          "appearance": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 5,
            "example": ["고양이", "강아지"]
          },
          "mbti": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 16,
            "example": ["ISFP", "ENTP"]
          },
          "fashion": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minitems": 1,
            "maxitems": 10,
            "example": ["캐주얼", "베이직"]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2022-04-03T05:01:09.091Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2022-04-03T05:01:09.091Z"
          }
        }
      },
      "Success": {
        "type": "object",
        "required": ["status", "success", "message", "data"],
        "properties": {
          "status": {
            "type": "integer"
          },
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "object"
          }
        }
      },
      "Fail": {
        "type": "object",
        "required": ["status", "success", "message"],
        "properties": {
          "status": {
            "type": "integer"
          },
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      }
    },
    "responses": {
      "NullValue": {
        "description": "Request Body에 필요한 값이 없음",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Fail"
            },
            "examples": {
              "1": {
                "summary": "Response Body",
                "value": {
                  "status": 400,
                  "success": false,
                  "message": "필요한 값이 없습니다"
                }
              }
            }
          }
        }
      },
      "InternalServerError": {
        "description": "서버 내부 오류",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Fail"
            },
            "examples": {
              "1": {
                "summary": "Response Body",
                "value": {
                  "status": 500,
                  "success": false,
                  "message": "서버 내 오류"
                }
              }
            }
          }
        }
      }
    }
  }
}
